{
  "$schema": "https://json-schema.org/draft-07/schema",
  "version": "1.0",
  "mcp_name": "Luxembourg Law MCP",
  "description": "Contract tests validating Luxembourg Law MCP tool behavior against real legislation data (4,551 acts, 36,014 provisions, French language)",
  "tests": [
    {
      "id": "lu-001",
      "category": "article_retrieval",
      "description": "Retrieve Article I.er from the 1799 hospice administration law",
      "tool": "get_provision",
      "input": {
        "document_id": "loi-1799-07-04-n1",
        "provision_ref": "arti.er"
      },
      "assertions": {
        "result_not_empty": true,
        "text_contains": ["administrations municipales", "hospices civils"],
        "fields_present": ["results", "_metadata"]
      }
    },
    {
      "id": "lu-002",
      "category": "article_retrieval",
      "description": "Retrieve Article II from the 1799 hospice administration law",
      "tool": "get_provision",
      "input": {
        "document_id": "loi-1799-07-04-n1",
        "provision_ref": "artii"
      },
      "assertions": {
        "result_not_empty": true,
        "text_contains": ["administration municipale", "commissions"],
        "text_not_empty": true
      }
    },
    {
      "id": "lu-003",
      "category": "article_retrieval",
      "description": "Retrieve all provisions from data protection law (2002)",
      "tool": "get_provision",
      "input": {
        "document_id": "loi-2002-08-02-n2"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "min_results": 10
      }
    },
    {
      "id": "lu-004",
      "category": "search",
      "description": "Search for 'protection' across Luxembourg statutes",
      "tool": "search_legislation",
      "input": {
        "query": "protection",
        "limit": 10
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 3,
        "any_result_contains": ["protection"]
      }
    },
    {
      "id": "lu-005",
      "category": "search",
      "description": "Search for 'commerce' across Luxembourg statutes",
      "tool": "search_legislation",
      "input": {
        "query": "commerce",
        "limit": 10
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 2,
        "any_result_contains": ["commerce"]
      }
    },
    {
      "id": "lu-006",
      "category": "search",
      "description": "Search for 'données personnelles' (personal data)",
      "tool": "search_legislation",
      "input": {
        "query": "données personnelles",
        "limit": 5
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 1
      }
    },
    {
      "id": "lu-007",
      "category": "citation_validation",
      "description": "Validate citation for 1799 hospice law, Article I.er",
      "tool": "validate_citation",
      "input": {
        "citation": "Loi du 4 juillet 1799, art. I.er"
      },
      "assertions": {
        "result_not_empty": true,
        "citation_resolves": true
      }
    },
    {
      "id": "lu-008",
      "category": "citation_formatting",
      "description": "Format citation in short form",
      "tool": "format_citation",
      "input": {
        "citation": "Loi du 23 mai 1888, concernant l'accession du Grand-Duché de Luxembourg à l'Union internationale",
        "format": "short"
      },
      "assertions": {
        "result_not_empty": true,
        "text_not_empty": true
      }
    },
    {
      "id": "lu-009",
      "category": "currency_check",
      "description": "Check currency of the 1799 hospice administration law",
      "tool": "check_currency",
      "input": {
        "document_id": "loi-1799-07-04-n1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"]
      }
    },
    {
      "id": "lu-010",
      "category": "currency_check",
      "description": "Check currency of data protection law (2002)",
      "tool": "check_currency",
      "input": {
        "document_id": "loi-2002-08-02-n2"
      },
      "assertions": {
        "result_not_empty": true,
        "any_result_contains": ["status", "is_current"]
      }
    },
    {
      "id": "lu-011",
      "category": "negative_test",
      "description": "Non-existent document returns gracefully",
      "tool": "get_provision",
      "input": {
        "document_id": "loi-9999-99-99-nonexistent",
        "provision_ref": "art1"
      },
      "assertions": {
        "handles_gracefully": true
      }
    },
    {
      "id": "lu-012",
      "category": "negative_test",
      "description": "Empty search query returns gracefully",
      "tool": "search_legislation",
      "input": {
        "query": ""
      },
      "assertions": {
        "handles_gracefully": true
      }
    },
    {
      "id": "lu-013",
      "category": "metadata",
      "description": "About tool returns server and dataset metadata",
      "tool": "about",
      "input": {},
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["Luxembourg Law MCP", "legal_documents", "eu_references"]
      }
    },
    {
      "id": "lu-014",
      "category": "eu_basis",
      "description": "Get EU basis for law implementing EU market-infrastructure rules",
      "tool": "get_eu_basis",
      "input": {
        "document_id": "loi-2016-03-15-n3",
        "include_articles": true
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["directive:2013/14", "regulation:2013/462", "directive_count"]
      }
    },
    {
      "id": "lu-015",
      "category": "eu_basis",
      "description": "Get Luxembourg implementations for Directive 2013/14",
      "tool": "get_luxembourg_implementations",
      "input": {
        "eu_document_id": "directive:2013/14"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["loi-2016-03-15-n3", "implements"]
      }
    },
    {
      "id": "lu-016",
      "category": "eu_search",
      "description": "Search EU implementation index for Directive 2013/14",
      "tool": "search_eu_implementations",
      "input": {
        "query": "2013/14",
        "limit": 5
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["directive:2013/14", "luxembourg_statute_count"]
      }
    },
    {
      "id": "lu-017",
      "category": "eu_basis",
      "description": "Get provision-level EU basis for article 1 of 2016 market-infrastructure law",
      "tool": "get_provision_eu_basis",
      "input": {
        "document_id": "loi-2016-03-15-n3",
        "provision_ref": "art1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["directive:2013/14", "provision_content", "eu_references"]
      }
    },
    {
      "id": "lu-018",
      "category": "eu_compliance",
      "description": "Validate EU compliance status for 2016 market-infrastructure law",
      "tool": "validate_eu_compliance",
      "input": {
        "document_id": "loi-2016-03-15-n3"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["compliant", "eu_references_found"]
      }
    },
    {
      "id": "lu-019",
      "category": "legal_stance",
      "description": "Build legal stance for hospices civils query",
      "tool": "build_legal_stance",
      "input": {
        "query": "hospices civils",
        "limit": 3
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results", "_metadata"],
        "text_contains": ["loi-1799-07-04-n1", "provisions"]
      }
    }
  ]
}
